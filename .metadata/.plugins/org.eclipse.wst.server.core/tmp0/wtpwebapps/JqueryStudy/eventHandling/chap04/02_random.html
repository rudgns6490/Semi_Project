<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>난수 발생한후 버튼을 한번 클릭하여 당첨 맞추기 (event.target, unbind)</title>

<style type="text/css">
	
	div#firstdiv, div#result {
		/* border: solid 1px gray;  */
		
		width: 80%;
		margin: 0 auto;
		text-align: center;
	}
	
	div#result {
		margin: 20px 0 0 0;
		padding-left: 100px;
		font-size: 16pt;
	}
	

	span.buttons {
		display: inline-block;
		border: solid 2px orange;
		width: 100px;
		margin: 20px;
		padding: 5px;
		background-color: yellow;
		color: #ff0000;
		font-size: 15pt;
		cursor: pointer;
	}	
	
</style>

<script type="text/javascript" src="/JqueryStudy/js/jquery-3.3.1.min.js"></script>

<script type="text/javascript">
	$(document).ready(function(){
		
		$("#result").hide();
		
		$(".buttons").bind("click", function(){
			// == 자바스크립트에서 난수 발생시키기 ==
			/*
			   Math.random(); 은 
			   0 이상 1 미만의 랜덤한 실수가 발생되어진다.
			   0 <= Math.random() < 1 
			   
			   == 1 부터 5까지 의 난수를 발생시키기 ==
			      공식 :  Math.floor( Math.random()*(max-min+1) ) + min;
			    
			    Math.random() 이 0 이 나왔다라면
			    Math.floor( 0*(5-1+1) ) + 1;
			    Math.floor( 0 ) + 1; ==> 0+1 ==> 1
			    
			    Math.random() 이 0.4 이 나왔다라면
			    Math.floor( 0.4*(5-1+1) ) + 1;
			    Math.floor( 2.0 ) + 1; ==> 2+1 ==> 3
			    
			    Math.random() 이 0.9 이 나왔다라면
			    Math.floor( 0.9*(5-1+1) ) + 1;
			    Math.floor( 4.5 ) + 1; ==> 4+1 ==> 5
			*/
			
			var randomNum = Math.floor( Math.random()*(5-1+1) ) + 1; 
			console.log(randomNum);    
			
			var data = $(event.target).text();
						
			if(parseInt(data) == randomNum) {
				 
			    var html = "<span style='color: red;'>당첨!! 축하합니다.~~</span>";
				$("#result").html(html);
			}
			
			$("#result").show();
			
			$(".buttons").unbind("click");
			// 선택자 $(".buttons") 에 대해 click 이벤트가 발생하지 않도록 한다. 
			
		});
		
	}); // end of $(document).ready()--------------
</script>

</head>
<body>
	<h2>행운의 숫자를 클릭하세요~~(오로지 기회는 1번만!!)</h2>
	<div id=firstdiv>
		<span class="buttons">1</span>
		<span class="buttons">2</span>
		<span class="buttons">3</span>
		<span class="buttons">4</span>
		<span class="buttons">5</span>
	</div>
	<div id="result">다음기회에...</div>
</body>
</html>



